
@{
    Layout = "_Layout";
    ViewBag.Title = "Index";

}

<h2>Index</h2>
<table id="customerTable" class="table table-hover">
    <thead>
        <tr>
            <th>Customer ID</th>
            <th>Account Number</th>
            <th>Account Type</th>
            <th>Customer Name</th>
        </tr>
        <tr>
            <th><input type="text" class="form-control" oninput="filterColumn('customerId', this.value)" /></th>
            <th><input type="text" class="form-control" oninput="filterColumn('accountNumber', this.value)" /></th>
            <th><input type="text" class="form-control" oninput="filterColumn('accountType', this.value)" /></th>
            <th><input type="text" class="form-control" oninput="filterColumn('displayName', this.value)" /></th>
        </tr>
    </thead>

</table>

@section scripts
    {
    <script type="text/javascript">
    var table;
    $(document).ready(function () {
        table = $('#customerTable').DataTable({
            serverSide: true,
            responsive: true,
            orderCellsTop: true,
            ajax: {
                url: '/dt/customers',
                dataSrc: 'data',
                type: 'POST'
            },
            columns: [
                {
                    name: 'customerId',
                    data: 'customerId'
                },
                {
                    name: 'accountNumber',
                    data: 'accountNumber'
                },
                {
                    name: 'accountType',
                    data: 'accountType',
                },
                {
                    name: 'displayName',
                    data: 'displayName'
                }
            ]
        });
    });

    function filterColumn(column, value) {
        table.column(column + ":name").search(value);
        table.draw();
    }

    </script>
}
